{"version":3,"sources":["webpack:///src/app/home_tab/options-map/options-map.page.ts","webpack:///src/app/home_tab/roadMap.ts","webpack:///src/app/home_tab/user.ts","webpack:///src/app/home_tab/options-map/options-map.page.html","webpack:///src/app/home_tab/map-service.service.ts","webpack:///src/app/home_tab/options-map/options-map.page.scss"],"names":["OptionsMapPage","modalController","formBuilder","map_service","trips","registrationForm","group","location","required","people","get_roads","subscribe","data","pos","push","id","title","duration","price","description","image","dismiss","selector","template","RoadMap","lat","lng","InterestPoints","User","MapServiceService","http","geolocation","url","urlGetPoints","urlDistance","urlVehicles","getUserPosition","getCurrentPosition","then","res","console","log","user","coords","latitude","longitude","error","roads","post","apiUrl","kmMAX","interest","get","vehicles","providedIn"],"mappings":"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","file":"default~home_tab-menu-module~home_tab-options-map-options-map-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { MapServiceService } from '../map-service.service';\nimport { RoadMap } from '../roadMap';\n\n@Component({\n  selector: 'app-options-map',\n  templateUrl: './options-map.page.html',\n  styleUrls: ['./options-map.page.scss'],\n})\nexport class OptionsMapPage implements OnInit {\n  public ionicForm: FormGroup;\n  public trips: Array<RoadMap> = [];\n\n  public registrationForm = this.formBuilder.group({\n    location: ['', Validators.required],\n    people: ['', Validators.required],\n  });\n\n  constructor(\n    public modalController: ModalController,\n    public formBuilder: FormBuilder,\n    private map_service: MapServiceService\n  ) {}\n\n  ngOnInit() {}\n\n  submit_form(): void {\n    this.map_service.get_roads().subscribe((data) => {\n      for (let pos in data) {\n        this.trips.push(\n          new RoadMap(\n            data[pos].id,\n            data[pos].title,\n            data[pos].duration,\n            data[pos].price,\n            data[pos].description,\n            data[pos].image,\n            data[pos].location['coordinates'][0],\n            data[pos].location['coordinates'][1]\n          )\n        );\n      }\n      //this.trips = data;\n    });\n\n    this.modalController.dismiss(this.trips);\n  }\n}\n","export class RoadMap {\r\n  id: number;\r\n  title: string;\r\n  duration: string;\r\n  price: number;\r\n  description: string;\r\n  image: string;\r\n  lat: number;\r\n  lng: number;\r\n\r\n  constructor(\r\n    id: number,\r\n    title: string,\r\n    duration: string,\r\n    price: number,\r\n    description: string,\r\n    image: string,\r\n    lat: number,\r\n    lng: number\r\n  ) {\r\n    this.id = id;\r\n    this.title = title;\r\n    this.duration = duration;\r\n    this.price = price;\r\n    this.description = description;\r\n    this.image = image;\r\n    this.lat = lat;\r\n    this.lng = lng;\r\n  }\r\n}\r\n\r\nexport class InterestPoints {\r\n  title: string;\r\n  lat: number;\r\n  lng: number;\r\n  image: string;\r\n\r\n  constructor(title: string, lat: number, lng: number, image: string) {\r\n    this.title = title;\r\n    this.lat = lat;\r\n    this.lng = lng;\r\n    this.image = image;\r\n  }\r\n}\r\n","export class User {\r\n  lat: number;\r\n  lng: number;\r\n\r\n  constructor(lat: number, lng: number) {\r\n    this.lat = lat;\r\n    this.lng = lng;\r\n  }\r\n}\r\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <div id=\\\"content-menu\\\">\\n      <img src=\\\"assets/BestRideSplash.png\\\" />\\n      <ion-title id=\\\"title\\\">BestRide\\n      </ion-title>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"body\\\">\\n    <svg height=\\\"100%\\\" width=\\\"100%\\\">\\n      <circle cx=\\\"-30\\\" cy=\\\"50\\\" r=\\\"230\\\" fill=\\\"#ffba00\\\" />\\n      <circle cx=\\\"360\\\" cy=\\\"0\\\" r=\\\"120\\\" fill=\\\"#58a600\\\" />\\n      <circle cx=\\\"360\\\" cy=\\\"600\\\" r=\\\"300\\\" fill=\\\"#00adff\\\" />\\n    </svg>\\n    <div class=\\\"content\\\">\\n      <ion-card>\\n        <h2 style=\\\"color: black;font-size: 25px;font-weight: bold;\\\"> {{'Choose your preferences ! ' | customTranslate |\\n          async}}</h2>\\n\\n        <form class=\\\"form\\\" [formGroup]=\\\"registrationForm\\\" (ngSubmit)=\\\"submit_form()\\\">\\n\\n          <ion-list>\\n            <ion-item>\\n              <ion-label>{{'Location ?' | customTranslate | async}}</ion-label>\\n              <ion-select formControlName=\\\"location\\\" value=\\\"brown\\\" okText=\\\"OK\\\" cancelText=\\\"Dismiss\\\">\\n                <ion-select-option value=\\\"Near\\\"> {{'Near Me' | customTranslate | async}}</ion-select-option>\\n                <ion-select-option value=\\\"Lisbon\\\"> {{'Lisbon' | customTranslate | async}}</ion-select-option>\\n                <ion-select-option value=\\\"Sintra\\\"> {{'Sintra' | customTranslate | async}}</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n\\n            <br>\\n            <ion-item>\\n              <ion-label>{{'How Many People?' | customTranslate | async}}</ion-label>\\n              <ion-select value=\\\"brown\\\" okText=\\\"OK\\\" formControlName=\\\"people\\\" cancelText=\\\"Dismiss\\\">\\n                <ion-select-option value=\\\"1\\\"> 1</ion-select-option>\\n                <ion-select-option value=\\\"2\\\"> 2</ion-select-option>\\n                <ion-select-option value=\\\"3\\\"> 3</ion-select-option>\\n                <ion-select-option value=\\\"4\\\"> 4</ion-select-option>\\n                <ion-select-option value=\\\"5\\\"> 5</ion-select-option>\\n                <ion-select-option value=\\\"6\\\"> 6</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n\\n            <br>\\n            <ion-button [disabled]=\\\"!registrationForm.valid\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{'Search Tours' |\\n              customTranslate | async}}\\n            </ion-button>\\n\\n            <br>\\n          </ion-list>\\n        </form>\\n      </ion-card>\\n    </div>\\n  </div>\\n\\n  <!--\\n  <ion-list class=\\\"conteudo\\\">\\n    <form class=\\\"form\\\" [formGroup]=\\\"registrationForm\\\" (ngSubmit)=\\\"submeter_login()\\\">\\n      <ion-card>\\n        <ion-item>\\n          <ion-label>Email</ion-label>\\n          <ion-input formControlName=\\\"email\\\" type=\\\"email\\\" required></ion-input>\\n        </ion-item>\\n      </ion-card>\\n\\n      <ion-card>\\n        <ion-item>\\n          <ion-label>Password</ion-label>\\n          <ion-input formControlName=\\\"password\\\" [type]=\\\" showPass ? 'text' : 'password'\\\" required></ion-input>\\n          <ion-icon slot=\\\"end\\\" [name]=\\\"passwordIconToggle\\\" (click)=\\\"togglePass()\\\"></ion-icon>\\n        </ion-item>\\n      </ion-card>\\n\\n      <ion-button color=\\\"primary\\\" expand=\\\"full\\\" type=\\\"submit\\\">Login</ion-button>\\n\\n    </form>\\n\\n    <div>\\n      <h6 style=\\\"text-align: center;\\\" (click)=\\\"navegar()\\\">\\n        {{'No Account? Create a account now!' | customTranslate | async}}</h6>\\n      <h6 style=\\\"text-align: center;\\\" (click)=\\\"recuperarConta()\\\">\\n        {{'Recover your account' | customTranslate | async}}</h6>\\n    </div>\\n\\n    <ion-button shape=\\\"round\\\" color=\\\"tertiary\\\" (click)=\\\"login()\\\">\\n      <ion-icon name=\\\"logo-facebook\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button shape=\\\"round\\\" color=\\\"warning\\\" (click)=\\\"googleSignup()\\\">\\n      <ion-icon name=\\\"logo-google\\\"></ion-icon>\\n    </ion-button>\\n\\n  </ion-list>\\n  -->\\n</ion-content>\";","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { RoadMap, InterestPoints } from './roadMap';\nimport { Observable } from 'rxjs';\n\nimport { environment } from 'src/environments/environment';\nimport {\n  Geolocation,\n  GeolocationOptions,\n  Geoposition,\n  PositionError,\n} from '@ionic-native/geolocation/ngx';\nimport { User } from './user';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MapServiceService {\n  private url = '/itineary/showRoadMap';\n  private urlGetPoints = '/itineary/showItineary/';\n  private urlDistance = '/itineary/distance/';\n  private urlVehicles = '/itineray/showRoadVehicles/';\n\n  user: User;\n\n  constructor(private http: HttpClient, private geolocation: Geolocation) {}\n\n  ngOnInit() {\n    this.getUserPosition();\n  }\n\n  ionViewDidEnter() {}\n\n  private getUserPosition(): void {\n    this.geolocation\n      .getCurrentPosition()\n      .then((res) => {\n        console.log('ANSE');\n\n        console.log(res);\n\n        this.user = new User(res.coords.latitude, res.coords.longitude);\n      })\n      .catch((error) => {});\n  }\n\n  public roads: Observable<any>;\n  public interest: Observable<any>;\n  public vehicles: Observable<any>;\n\n  public get_roads(): Observable<any> {\n    this.getUserPosition();\n    this.roads = this.http.post(environment.apiUrl + this.url, {\n      lat: 38.72808865556741,\n      lng: -9.126644444741652,\n      kmMAX: 30,\n    });\n    return this.roads;\n  }\n\n  public get_points_interest(id: number): Observable<any> {\n    this.interest = this.http.get(environment.apiUrl + this.urlGetPoints + id);\n    return this.interest;\n  }\n\n  public get_vehicles_road(id: number): Observable<any> {\n    this.vehicles = this.http.get(environment.apiUrl + this.urlVehicles + id);\n    return this.vehicles;\n  }\n}\n","export default \"* {\\n  color: black;\\n  font-weight: 700;\\n}\\n\\n#content-menu img {\\n  align-self: center;\\n  width: 17%;\\n  position: relative;\\n  left: 29%;\\n}\\n\\n#content-menu #title {\\n  color: black;\\n  position: absolute;\\n  left: 7%;\\n}\\n\\nion-card {\\n  font-size: 25px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n  text-align: center;\\n}\\n\\n.body {\\n  background-color: #ff3f00;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.content {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 5%;\\n  justify-content: center;\\n  text-align: center;\\n  font-size: larger;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxvcHRpb25zLW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFHRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtBQUFKOztBQUdFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQURKOztBQUtBO0VBQ0UsZUFBQTtFQUNBLDRFQUFBO0VBQ0Esa0JBQUE7QUFGRjs7QUFLQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFGRjs7QUFLQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxPQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBRkYiLCJmaWxlIjoib3B0aW9ucy1tYXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiKiB7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbiNjb250ZW50LW1lbnUge1xyXG4gIGltZyB7XHJcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTclO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbGVmdDogMjklO1xyXG4gIH1cclxuXHJcbiAgI3RpdGxlIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDclO1xyXG4gIH1cclxufVxyXG5cclxuaW9uLWNhcmQge1xyXG4gIGZvbnQtc2l6ZTogMjVweDtcclxuICBib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgNnB4IDIwcHggMCByZ2JhKDAsIDAsIDAsIDAuMTkpO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmJvZHkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjNmMDA7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uY29udGVudCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDUlO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LXNpemU6IGxhcmdlcjtcclxufVxyXG4iXX0= */\";"]}